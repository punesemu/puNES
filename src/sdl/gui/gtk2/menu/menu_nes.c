/*
 * menu_nes.c
 *
 *  Created on: 16/dic/2011
 *      Author: fhorse
 */

#include "menu_nes.h"

#ifdef __SUNPRO_C
#pragma align 4 (hard_icon_inline)
#endif
#ifdef __GNUC__
static const guint8 hard_icon_inline[] __attribute__ ((__aligned__ (4))) =
#else
static const guint8 hard_icon_inline[] =
#endif
{ ""
  /* Pixbuf magic (0x47646b50) */
  "GdkP"
  /* length: header (24) + pixel_data (810) */
  "\0\0\3B"
  /* pixdata_type (0x2010002) */
  "\2\1\0\2"
  /* rowstride (64) */
  "\0\0\0@"
  /* width (16) */
  "\0\0\0\20"
  /* height (16) */
  "\0\0\0\20"
  /* pixel_data: */
  "\203\377\377\377\0\2\210\210\202-\212\214\210\362\205\210\212\205\377"
  "\2\213\215\207\361\210\210\202-\206\377\377\377\0\3\210\210\202-\214"
  "\216\211\360\315\315\312\376\205\356\356\354\377\3\315\315\312\376\214"
  "\215\211\360\210\210\202-\204\377\377\377\0\5\210\210\202-\214\216\211"
  "\360\315\315\312\376\330\246\245\377\246\4\4\377\203\244\0\0\377\5\246"
  "\4\4\377\331\253\251\377\315\315\312\376\214\216\211\360\210\210\202"
  "-\202\377\377\377\0\177\210\210\202-\214\215\211\360\315\315\312\376"
  "\330\250\247\377\253\14\14\377\337\40\40\377\353$$\377\346\37\37\377"
  "\342\32\32\377\323\21\21\377\252\13\13\377\330\250\247\377\315\315\312"
  "\376\214\216\211\360\210\210\202-\377\377\377\0\213\215\207\361\315\315"
  "\312\376\331\253\251\377\253\14\14\377\333\33\33\377\353$$\377\351\""
  "\"\377\345\36\36\377\341\31\31\377\335\24\24\377\317\14\14\377\252\13"
  "\13\377\330\246\245\377\315\315\312\376\212\214\210\362\377\377\377\0"
  "\210\212\205\377\356\356\354\377\246\4\4\377\327\26\26\377\345\36\36"
  "\377\346\37\37\377\345\35\35\377\343\33\33\377\337\27\27\377\334\22\22"
  "\377\330\16\16\377\313\7\7\377\246\4\4\377\356\356\354\377\210\212\205"
  "\377\377\377\377\0\210\212\205\377\356\356\354\377\244\0\0\377\337\27"
  "\27\377\341\31\31\377\342\31\31\377\341\30\30\377\337\26\26\377\334\23"
  "\23\377\331\17\17\377\326\13\13\377\322\7\7\377\244\0\0\377\356\356\354"
  "\377\210\212\205\377\377\377\377\0\210\212\205\377\356\356\354\377\244"
  "\0\0\377\333\22\22\377\335\23\23\377\335\24\24\377\334\23\23\377\333"
  "\22\22\377\331\17\17\377\326\14\14\377\323\10\10\377\320\4\4\377\244"
  "\0\0\377\356\356\354\377\210\212\205\377\377\377\377\0\210\212\205\377"
  "\356\356\354\377\244\0\0\377\327\15\15\377\330\16\16\377\330\17\17\377"
  "\330\16\16\377\327\15\15\377\325\13\13\377\323\10\10\377\320\4\4\377"
  "\315\1\1\377\244\0\0\377\356\356\354\377\210\212\205\377\377\377\377"
  "\0\210\212\205\377\356\356\354\377\246\4\4\377\312\6\6\377\323\11\11"
  "\377\324\11\11\377\323\11\11\377\322\10\10\377\321\6\6\377\317\3\3\377"
  "\314\0\0\377\304\0\0\377\246\4\4\377\356\356\354\377\210\212\205\377"
  "\377\377\377\0\212\214\210\362\315\315\312\376\330\246\245\377\251\12"
  "\12\377\307\2\2\377\317\4\4\377\317\3\3\377\316\2\2\377\315\1\1\377\314"
  "\0\0\377\304\0\0\377\251\12\12\377\331\253\251\377\315\315\312\376\213"
  "\215\207\361\7\377\377\377\0\210\210\202-\214\216\211\360\315\315\312"
  "\376\330\250\247\377\251\12\12\377\304\0\0\377\203\314\0\0\377\6\304"
  "\0\0\377\251\12\12\377\330\250\247\377\315\315\312\376\214\215\211\360"
  "\210\210\202-\202\377\377\377\0\5\210\210\202-\214\216\211\360\315\315"
  "\312\376\331\253\251\377\246\4\4\377\203\244\0\0\377\5\246\4\4\377\330"
  "\246\245\377\315\315\312\376\214\216\211\360\210\210\202-\204\377\377"
  "\377\0\3\210\210\202-\214\215\211\360\315\315\312\376\205\356\356\354"
  "\377\3\315\315\312\376\214\216\211\360\210\210\202-\206\377\377\377\0"
  "\2\210\210\202-\213\215\207\361\205\210\212\205\377\2\212\214\210\362"
  "\210\210\202-\224\377\377\377\0"};

#ifdef __SUNPRO_C
#pragma align 4 (soft_icon_inline)
#endif
#ifdef __GNUC__
static const guint8 soft_icon_inline[] __attribute__ ((__aligned__ (4))) =
#else
static const guint8 soft_icon_inline[] =
#endif
{ ""
  /* Pixbuf magic (0x47646b50) */
  "GdkP"
  /* length: header (24) + pixel_data (642) */
  "\0\0\2\232"
  /* pixdata_type (0x2010002) */
  "\2\1\0\2"
  /* rowstride (64) */
  "\0\0\0@"
  /* width (16) */
  "\0\0\0\20"
  /* height (16) */
  "\0\0\0\20"
  /* pixel_data: */
  "\226\377\377\377\0\4\354\277=\3\353\274<\324\352\272:\303\350\2709\3"
  "\214\377\377\377\0\4\353\274<\225\361\324\205\377\360\321\202\377\347"
  "\2657i\213\377\377\377\0\6\353\274<\22\351\272:\362\375\372\361\377\372"
  "\357\325\377\346\2625\355\344\2573\22\212\377\377\377\0\6\351\271:\264"
  "\362\330\224\377\376\374\363\377\376\372\347\377\360\323\217\377\343"
  "\2541\226\211\377\377\377\0\10\351\271:0\350\2678\375\377\375\371\377"
  "\371\351\224\377\372\353\236\377\376\372\354\377\341\251/\374\340\246"
  "-0\210\377\377\377\0\3\350\2678\324\364\337\251\377\375\371\355\377\202"
  "\326\243>\377\3\374\365\324\377\361\327\242\377\336\243+\303\207\377"
  "\377\377\0\4\350\2668Z\355\310q\377\377\376\371\377\364\334^\377\202"
  "\325\242>\377\4\364\331\\\377\376\373\355\377\345\273h\377\333\234&Z"
  "\205\377\377\377\0\5\350\2668\14\346\2646\354\367\352\310\377\375\372"
  "\346\377\364\332]\377\202\325\241=\377\5\362\327W\377\374\363\307\377"
  "\364\343\300\377\331\231$\344\330\226\"\14\204\377\377\377\0\14\346\263"
  "6\252\360\322\214\377\376\373\352\377\370\346\224\377\364\332\\\377\335"
  "\261G\377\325\241=\377\362\327V\377\365\333\\\377\375\370\336\377\347"
  "\300}\377\324\216\35\207\203\377\377\377\0\16\346\2636$\345\2614\373"
  "\376\373\363\377\373\362\303\377\366\334\\\377\364\332\\\377\366\337"
  "d\377\353\313W\377\362\326U\377\365\331T\377\370\347\224\377\373\364"
  "\343\377\320\207\27\371\315\200\23$\202\377\377\377\0\6\345\2604\312"
  "\361\327\235\377\375\371\347\377\370\345\213\377\366\333Z\377\364\332"
  "[\377\202\325\241=\377\13\362\326T\377\365\330R\377\364\326P\377\374"
  "\366\330\377\345\277\210\377\311y\16\264\377\377\377\0\345\2604K\350"
  "\277b\377\376\374\364\377\372\357\265\377\202\365\332X\377\16\363\330"
  "W\377\362\327X\377\362\326X\377\364\331W\377\365\330Q\377\364\327N\377"
  "\366\332b\377\376\373\352\377\322\223D\377\303m\6K\343\2551\343\365\343"
  "\276\377\376\374\364\377\376\373\357\377\202\376\373\356\377\202\376"
  "\374\357\377\2\376\373\357\377\376\373\356\377\202\376\373\355\377\24"
  "\376\373\354\377\376\374\362\377\353\316\253\377\301h\3\330\342\252/"
  "\242\340\247-\377\337\244+\377\335\241)\377\334\236'\377\332\233%\377"
  "\331\230#\377\326\223\40\377\323\214\33\377\317\205\26\377\314~\21\377"
  "\311w\15\377\306q\11\377\303l\6\377\301h\3\377\277d\0\242\220\377\377"
  "\377\0"};

void menu_nes(GtkWidget *mainmenu, GtkAccelGroup *accel_group) {
	GtkWidget *menu, *power, *soft, *hard;

	menu = gtk_menu_new();
	power = gtk_menu_item_new_with_mnemonic("_NES");

	gtk_menu_item_set_submenu(GTK_MENU_ITEM(power), menu);
	gtk_menu_shell_append(GTK_MENU_SHELL(mainmenu), power);

	hard = gtk_image_menu_item_new_with_mnemonic("_Hard Reset");
	soft = gtk_image_menu_item_new_with_mnemonic("_Soft Reset");

	gw_image_from_inline(hard, hard_icon_inline);
	gw_image_from_inline(soft, soft_icon_inline);

	gtk_widget_add_accelerator(hard, "activate", accel_group, GDK_F11, (GdkModifierType) 0,
	        GTK_ACCEL_VISIBLE);
	gtk_widget_add_accelerator(soft, "activate", accel_group, GDK_F12, (GdkModifierType) 0,
	        GTK_ACCEL_VISIBLE);

	gtk_menu_shell_append(GTK_MENU_SHELL(menu), hard);
	gtk_menu_shell_append(GTK_MENU_SHELL(menu), soft);
	gtk_menu_shell_append(GTK_MENU_SHELL(menu), gtk_separator_menu_item_new());
	menu_nes_fds(menu, accel_group);

	g_signal_connect_swapped(G_OBJECT(hard), "activate", G_CALLBACK(make_reset),
			GINT_TO_POINTER(HARD));
	g_signal_connect_swapped(G_OBJECT(soft), "activate", G_CALLBACK(make_reset),
			GINT_TO_POINTER(RESET));
}
void menu_nes_check(void) {
	/* FDS */
	menu_nes_fds_check();
}
